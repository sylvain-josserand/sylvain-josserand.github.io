<!DOCTYPE html>
<html>
<head>
    <title>Support de formation sur Django avanc√©</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=1024, user-scalable=no">

    <!-- Required stylesheet -->
    <link rel="stylesheet" media="screen" href="core/deck.core.css">

    <!-- Extension CSS files go here. Remove or add as needed. -->
    <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
    <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
    <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
    <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
    <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

    <!-- Style theme. More available in /themes/style/ or create your own. -->
    <link rel="stylesheet" media="screen" href="themes/style/swiss.css">

    <!-- Transition theme. More available in /themes/transition/ or create your own. -->
    <link rel="stylesheet" media="screen" href="themes/transition/fade.css">
    <!-- Basic black and white print styles -->
    <link rel="stylesheet" media="print" href="core/print.css">

    <!-- Required Modernizr file -->
    <script src="modernizr.custom.js"></script>
</head>
<body>
<div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->
    <div class="slide">
        <h2>Bienvenue!</h2>
        <ul>
            <li>Les pr√©sentations</li>
            <br>
            <li>Logistique de la formation</li>
            <br>
            <li>Attentes</li>
            <br>
            <li>Installation de Python 3.5, PyCharm et Django 1.11</li>
        </ul>
    </div>
    <div class="slide">
        <h2>Ressources</h2>
        <ul>
            <li>Documentation de Django: <a href="https://docs.djangoproject.com/fr/1.11/">https://docs.djangoproject.com/fr/1.11/</a></li>
            <br>
            <li>Django Snippets: <a href="https://djangosnippets.org/">https://djangosnippets.org/</a></li>
            <br>
            <li>Django Rest Framework: <a href="http://www.django-rest-framework.org/">http://www.django-rest-framework.org/</a></li>
        </ul>
        <blockquote>
            <p>Read the Source, Luke</p>
            <p><cite>Yoda</cite></p>
        </blockquote>
    </div>
    <div class="slide">
        <h2>Les mod√®les</h2>
        <blockquote>Lorsque vous concevez des applications complexes, centralisez (autant que possible)
            la logique "m√©tier" dans les <b>mod√®les</b> et leurs <b>m√©thodes<b>
        </blockquote>
    </div>
    <div class="slide">
        <h2>R√©visions rapides</h2>
        <ul>
            <li>Models</li>
            <br>
            <li>Fields</li>
            <br>
            <li>Managers</li>
        </ul>
    </div>
    <div class="slide">
        <h2>H√©ritage de mod√®les</h2>
        <ul>
            <li>abstract</li>
            <br>
            <li>H√©ritage multiple</li>
            <br>
            <li>proxy (mod√®les mandataires)</li>
            <br>
            <li>Imports circulaires</li>
        </ul>
    </div>
    <div class="slide">
        <h2>abstract</h2>
        <p>üëç Ajouter des champs g√©n√©rique pour tous vos mod√®les</p>
        <p>üëé Colonnes suppl√©mentaires (pas optimal si donn√©es souvent vides)</p>
        <p>üëé Pas d'h√©ritage multiple avec abstract</p>
        <pre>
class DatedModel(Model):
    class Meta:
        abstract = True
    created = DateTimeField(auto_now_add=True)
    modified = DateTimeField(auto_now=True)

class Company(DatedModel):
    name = TextField()
date = DatedModel()  # Objection!
fedex = Company(name="Fedex")
fedex.created
        </pre>
    </div>
    <div class="slide">
        <h2>H√©ritage multiple</h2>
        <p>Cr√©ation d'un OneToOneField automatique vers le parent et l'enfant si il existe</p>
        <pre>
class Vehicle(DatedModel):
    color = CharField()

class Truck(Vehicle):
    owner = ForeignKey(Company)
        </pre>
    </div>
    <div class="slide">
        <h2>H√©ritage multiple</h2>
        <p>Tous les champs de Vehicle seront aussi disponible dans Truck, m√™me si les donn√©es se trouveront dans des <b>tables diff√©rentes</b></p>
        <p>üëç Possibilit√© d'h√©riter de plusieurs classes, mod√®les de base (Vehicle) non-modifi√© et accessible</p>
        <p>üëç Pratique pour √©tendre en conservant l'existant</p>
        <p>üëé Jointures ou requ√™tes suppl√©mentaires</p>
        <p>üëé Peut complexifier le code (v√©rification d'existance de sous-objets)</p>
        <pre>
mon_camion = Truck(color='red', owner=fedex)
mon_camion.color
mon_camion.vehicle
mon_camion.save()  # Pour obtenir l'ID
mon_vehicule = Vehicle.objects.get(pk=mon_camion.id)
assert mon_vehicule.truck == mon_camion
        </pre>
    </div>
    <div class="slide">
        <h2>proxy (mod√®les mandataires)</h2>
        <a href="https://docs.djangoproject.com/fr/1.11/topics/db/models/#proxy-models">Doc Django</a>
        <p>Permet de modifier le comportement d'un mod√®le sans changer la fa√ßon dont il stocke ses donn√©es</p>
        <pre>
class Car(Vehicle):
    class Meta:
        proxy = True
    def __str__(self):
        return "{} car".format(self.color)
    def paint(self, color):
        self.color = color
        </pre>
    </div>
    <div class="slide">
        <h2>Imports circulaires</h2>
        <p>Si vous rencontrez le message d'erreur "Cannot import &lt;module&gt;", il peut s'agir d'un probl√®me d'import circulaire</p>
        <p>La solution consiste √† importer le module dans la m√©thode o√π il est utilis√©e, plut√¥t qu'√† la racine, en haut du fichier</p>
        <p>Pour les clefs √©trang√®res, plut√¥t que la classe elle-m√™me, utilisez une cha√Æne contenant son nom</p>
        <pre>
class Truck(Vehicle):
    owner = ForeignKey(Company)
        </pre>
        <p>Devient:</p>
        <pre>
class Truck(Vehicle):
    owner = ForeignKey("Company")
        </pre>
    </div>
    <div class="slide"><h2>Cr√©ation d'un Field personnalis√©</h2></div>
    <div class="slide"><h2>Cr√©ation d'un Manager personnalis√©</h2></div>
    <div class="slide"><h2>Mise en pratique: DatedModel, CurrencyField et active_objects</h2></div>
    <div class="slide"><h2>Requ√™tes avanc√©es</h2></div>
    <div class="slide"><h2>Aggregate: avantages et limites</h2></div>
    <div class="slide"><h2>Utilisation avanc√©e de prefetch_related et select_related</h2></div>
    <div class="slide"><h2>Mise en pratique: R√©duction du nombre de requ√™tes</h2></div>
    <div class="slide"><h2>Les vues</h2></div>
    <div class="slide"><h2>R√©vision des bases: Les vues sous forme de clases (class-based views)</h2></div>
    <div class="slide"><h2>Vues g√©n√©riques: TemplateView, ListView, ...</h2></div>
    <div class="slide"><h2>Les Mixin</h2></div>
    <div class="slide"><h2>Les middleware</h2></div>
    <div class="slide"><h2>Mise en pratique: Cr√©ation d'un mixin de vue g√©n√©rique et d'un middleware</h2></div>
    <div class="slide"><h2>Les templates</h2></div>
    <div class="slide"><h2>R√©vision des bases: Filters et Tags</h2></div>
    <div class="slide"><h2>Filters personnalis√©s</h2></div>
    <div class="slide"><h2>Tags personnalis√©s</h2></div>
    <div class="slide"><h2>Mise en pratique: Cr√©ation d'un filtre personalis√©</h2></div>
    <div class="slide"><h2>Tests unitaires</h2></div>
    <div class="slide"><h2>√âcrire des tests sous Django</h2></div>
    <div class="slide"><h2>Serveur de test Live</h2></div>
    <div class="slide"><h2>Patching et Mocking</h2></div>
    <div class="slide"><h2>Mise en pratique: √âcrire les tests unitaires de notre application exemple</h2></div>
    <div class="slide"><h2>S√©curit√© avanc√©e</h2></div>
    <div class="slide"><h2>R√©vision des bases: protection contre le XSS (csrf token)</h2></div>
    <div class="slide"><h2>Customisation de l'authentification: JWT et clef d'API</h2></div>
    <div class="slide"><h2>Authentification par OAuth</h2></div>
    <div class="slide"><h2>Mise en pratique: G√©rer la s√©paration des donn√©es dans notre application</h2></div>
    <div class="slide"><h2>Migrations de donn√©es</h2></div>
    <div class="slide"><h2>Migration de donn√©es: Python et SQL</h2></div>
    <div class="slide"><h2>Fusion de migrations</h2></div>
    <div class="slide"><h2>Mise en pratique: Cr√©er une migration de donn√©es personnalis√©e</h2></div>
    <div class="slide"><h2>Django Rest Framework</h2></div>
    <div class="slide"><h2>Les ViewSets</h2></div>
    <div class="slide"><h2>Les Serializers</h2></div>
    <div class="slide"><h2>Mise en pratique: Ajouter une API auto-document√©e √† notre application</h2></div>
    <div class="slide"><h2>Performance</h2></div>
    <div class="slide"><h2>Django Debug Toolbar</h2></div>
    <div class="slide"><h2>Gestion du cache</h2></div>
    <div class="slide"><h2>Mise en pratique: am√©liorer les performances de notre application</h2></div>
    <div class="slide"><h2>Gardons contact</h2><p><a href="mailto:sylvain@intuitivo.fr">sylvain@intuitivo.fr</a></p><p><a href="http://intuitivo.fr">intuitivo.fr</a></p></div>

    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet -->
    <div aria-role="navigation">
        <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
        <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet -->
    <p class="deck-status" aria-role="status">
        <span class="deck-status-current"></span>
        /
        <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
        <label for="goto-slide">Go to slide:</label>
        <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
        <datalist id="goto-datalist"></datalist>
        <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
</div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
    $(function () {
        $.deck('.slide');
    });
</script>
</body>
</html>
